2026-02-12 21:40:54,868 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/caching.py", line 65, in wrapper
    return _cache[func][args_key]
           ~~~~~~~~~~~~^^^^^^^^^^
KeyError: ()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/apps.py", line 40, in get_apps
    if has_permission_path and not frappe.get_attr(has_permission_path)():
                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/crm/crm/api/__init__.py", line 64, in check_app_permission
    allowed_modules = frappe.utils.modules.get_modules_from_all_apps_for_user()
                      ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'frappe.utils' has no attribute 'modules'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 117, in capture_exception
    set_scope(scope)
    ~~~~~~~~~^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 59, in set_scope
    waitdiff = datetime.utcnow() - job.enqueued_at
               ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
TypeError: can't subtract offset-naive and offset-aware datetimes
2026-02-12 21:45:35,414 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/caching.py", line 65, in wrapper
    return _cache[func][args_key]
           ~~~~~~~~~~~~^^^^^^^^^^
KeyError: ()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/apps.py", line 40, in get_apps
    if has_permission_path and not frappe.get_attr(has_permission_path)():
                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/crm/crm/api/__init__.py", line 64, in check_app_permission
    allowed_modules = frappe.utils.modules.get_modules_from_all_apps_for_user()
                      ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'frappe.utils' has no attribute 'modules'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 117, in capture_exception
    set_scope(scope)
    ~~~~~~~~~^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 59, in set_scope
    waitdiff = datetime.utcnow() - job.enqueued_at
               ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
TypeError: can't subtract offset-naive and offset-aware datetimes
2026-02-12 21:47:48,555 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/caching.py", line 65, in wrapper
    return _cache[func][args_key]
           ~~~~~~~~~~~~^^^^^^^^^^
KeyError: ()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/apps.py", line 40, in get_apps
    if has_permission_path and not frappe.get_attr(has_permission_path)():
                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/crm/crm/api/__init__.py", line 64, in check_app_permission
    allowed_modules = frappe.utils.modules.get_modules_from_all_apps_for_user()
                      ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'frappe.utils' has no attribute 'modules'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 117, in capture_exception
    set_scope(scope)
    ~~~~~~~~~^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 59, in set_scope
    waitdiff = datetime.utcnow() - job.enqueued_at
               ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
TypeError: can't subtract offset-naive and offset-aware datetimes
2026-02-12 21:48:06,072 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
  File "/usr/lib/python3.14/json/__init__.py", line 352, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.14/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/json/decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 122, in capture_exception
    scope.set_context("JSON Body", frappe.request.json)
                                   ^^^^^^^^^^^^^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/local.py", line 66, in __getattr__
    return getattr(self._get_current_object(), name)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 560, in json
    return self.get_json()
           ~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2026-02-12 21:48:06,074 ERROR frappe New Exception collected in error log
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
2026-02-12 21:49:26,529 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
  File "/usr/lib/python3.14/json/__init__.py", line 352, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.14/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/json/decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 122, in capture_exception
    scope.set_context("JSON Body", frappe.request.json)
                                   ^^^^^^^^^^^^^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/local.py", line 66, in __getattr__
    return getattr(self._get_current_object(), name)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 560, in json
    return self.get_json()
           ~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2026-02-12 21:49:26,531 ERROR frappe New Exception collected in error log
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
2026-02-12 21:49:46,097 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/caching.py", line 65, in wrapper
    return _cache[func][args_key]
           ~~~~~~~~~~~~^^^^^^^^^^
KeyError: ()

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/apps.py", line 40, in get_apps
    if has_permission_path and not frappe.get_attr(has_permission_path)():
                                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/crm/crm/api/__init__.py", line 64, in check_app_permission
    allowed_modules = frappe.utils.modules.get_modules_from_all_apps_for_user()
                      ^^^^^^^^^^^^^^^^^^^^
AttributeError: module 'frappe.utils' has no attribute 'modules'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 117, in capture_exception
    set_scope(scope)
    ~~~~~~~~~^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 59, in set_scope
    waitdiff = datetime.utcnow() - job.enqueued_at
               ~~~~~~~~~~~~~~~~~~^~~~~~~~~~~~~~~~~
TypeError: can't subtract offset-naive and offset-aware datetimes
2026-02-12 21:49:54,216 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
  File "/usr/lib/python3.14/json/__init__.py", line 352, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.14/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/json/decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 122, in capture_exception
    scope.set_context("JSON Body", frappe.request.json)
                                   ^^^^^^^^^^^^^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/local.py", line 66, in __getattr__
    return getattr(self._get_current_object(), name)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 560, in json
    return self.get_json()
           ~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2026-02-12 21:49:54,217 ERROR frappe New Exception collected in error log
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
2026-02-12 21:51:20,196 ERROR frappe Failed to capture exception
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
  File "/usr/lib/python3.14/json/__init__.py", line 352, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/usr/lib/python3.14/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.14/json/decoder.py", line 363, in raw_decode
    raise JSONDecodeError("Expecting value", s, err.value) from None
json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/sentry.py", line 122, in capture_exception
    scope.set_context("JSON Body", frappe.request.json)
                                   ^^^^^^^^^^^^^^^^^^^
  File "/home/omegaui/Projects/crm/frappe-bench/apps/frappe/frappe/utils/local.py", line 66, in __getattr__
    return getattr(self._get_current_object(), name)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 560, in json
    return self.get_json()
           ~~~~~~~~~~~~~^^
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
  File "/home/omegaui/Projects/crm/frappe-bench/env/lib/python3.14/site-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting value: line 1 column 1 (char 0)
2026-02-12 21:51:20,198 ERROR frappe New Exception collected in error log
Site: crm.localhost
Form Dict: {'doctype': 'WhatsApp Settings', 'name': 'WhatsApp Settings', 'cmd': 'frappe.client.get'}
